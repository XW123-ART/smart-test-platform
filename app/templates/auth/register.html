{% extends "base.html" %} 

 {% block content %} 
 <div class="container py-5"> 
     <div class="row justify-content-center"> 
         <div class="col-md-6 col-lg-5"> 
             <div class="card border-0 shadow-lg"> 
                 <div class="card-header bg-primary text-white py-3"> 
                     <h4 class="mb-0 text-center"> 
                         <i class="bi bi-person-plus me-2"></i>用户注册 
                     </h4> 
                 </div> 
                 
                 <div class="card-body p-4"> 
                     <!-- 显示Flash消息 --> 
                     {% with messages = get_flashed_messages(with_categories=true) %} 
                         {% if messages %} 
                             {% for category, message in messages %} 
                                 <div class="alert alert-{{ category if category != 'message' else 'info' }} 
                                             alert-dismissible fade show mb-4" role="alert"> 
                                     {{ message }} 
                                     <button type="button" class="btn-close" data-bs-dismiss="alert"></button> 
                                 </div> 
                             {% endfor %} 
                         {% endif %} 
                     {% endwith %} 
                     
                     <form method="POST" action=""> 
                         {{ form.hidden_tag() }} 
                         
                         <!-- 用户名 --> 
                         <div class="mb-3"> 
                             <label class="form-label fw-bold">用户名</label> 
                             {{ form.username(class="form-control form-control-lg" + 
                                            (" is-invalid" if form.username.errors else "")) }} 
                             {% if form.username.errors %} 
                                 <div class="invalid-feedback"> 
                                     {% for error in form.username.errors %} 
                                         {{ error }} 
                                     {% endfor %} 
                                 </div> 
                             {% else %} 
                                 <div class="form-text">3-20个字符，支持字母、数字和下划线</div> 
                             {% endif %} 
                         </div> 
                         
                         <!-- 邮箱 --> 
                         <div class="mb-3"> 
                             <label class="form-label fw-bold">邮箱地址</label> 
                             {{ form.email(class="form-control form-control-lg" + 
                                          (" is-invalid" if form.email.errors else "")) }} 
                             {% if form.email.errors %} 
                                 <div class="invalid-feedback"> 
                                     {% for error in form.email.errors %} 
                                         {{ error }} 
                                     {% endfor %} 
                                 </div> 
                             {% else %} 
                                 <div class="form-text">请使用有效的邮箱地址</div> 
                             {% endif %} 
                         </div> 
                         
                         <!-- 密码 --> 
                         <div class="mb-3"> 
                             <label class="form-label fw-bold">密码</label> 
                             {{ form.password(class="form-control form-control-lg" + 
                                            (" is-invalid" if form.password.errors else "")) }} 
                             {% if form.password.errors %} 
                                 <div class="invalid-feedback"> 
                                     {% for error in form.password.errors %} 
                                         {{ error }} 
                                     {% endfor %} 
                                 </div> 
                             {% else %} 
                                 <div class="form-text">至少6个字符</div> 
                             {% endif %} 
                         </div> 
                         
                         <!-- 确认密码 --> 
                         <div class="mb-4"> 
                             <label class="form-label fw-bold">确认密码</label> 
                             {{ form.confirm_password(class="form-control form-control-lg" + 
                                                    (" is-invalid" if form.confirm_password.errors else "")) }} 
                             {% if form.confirm_password.errors %} 
                                 <div class="invalid-feedback"> 
                                     {% for error in form.confirm_password.errors %} 
                                         {{ error }} 
                                     {% endfor %} 
                                 </div> 
                             {% endif %} 
                         </div> 
                         
                         <!-- 提交按钮 --> 
                         <div class="d-grid gap-2"> 
                             {{ form.submit(class="btn btn-primary btn-lg") }} 
                         </div> 
                     </form> 
                     
                     <hr class="my-4"> 
                     
                     <!-- 登录链接 --> 
                     <div class="text-center"> 
                         <p class="text-muted mb-0">已有账户？</p> 
                         <a href="{{ url_for('auth.login') }}" class="btn btn-outline-secondary mt-2"> 
                             <i class="bi bi-box-arrow-in-right me-2"></i>立即登录 
                         </a> 
                     </div> 
                 </div> 
             </div> 
         </div> 
     </div> 
 </div> 
 {% endblock %}